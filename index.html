<!doctype html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="description" content="">
    <meta name="author" content="Joffrey Bienvenu">
    <link rel="canonical" href="https://wallonia.ml">
    <title>Wallonia's 3D Houses</title>

    <link href="./assets/css/bootstrap-reboot.min.css" rel="stylesheet">
    <link href="./assets/css/bootstrap.min.css" rel="stylesheet">
    <link href="./assets/css/dashboard.css" rel="stylesheet">
    <link href="./assets/css/style.css" rel="stylesheet">
</head>
<body>

<header class="navbar navbar-dark sticky-top bg-dark flex-md-nowrap p-0 shadow">
    <a class="navbar-brand col-md-3 col-lg-2 mr-0 px-3" id="site_title" href="https://wallonia.ml">
        <img src="./assets/img/logo.svg" class="site_logo" height="24px" width="24px" /><p>Wallonia.ml</p></a>
    <button class="navbar-toggler position-absolute d-md-none collapsed" type="button" data-toggle="collapse" data-target="#sidebarMenu" aria-controls="sidebarMenu" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
    </button>
</header>

<div class="container-fluid" id="content">
    <div class="row" id="content-row">
        <nav id="sidebarMenu" class="col-md-4 col-lg-3 d-md-block bg-light sidebar collapse">
            <div class="position-sticky pt-3">

                <div class="card card-search">
                    <h5 class="card-header">Type an address</h5>
                    <div class="card-body">
                        <p class="card-text">Display and get details about any house and apartment in Wallonia by simply entering an address.</p>
                    </div>
                    <ul class="list-group list-group-flush">
                        <li class="list-group-item">

                            <div class="col-12">
                                <label for="inputPostalCode" class="col-sm-2 col-form-label form-label">Postal Code</label>
                                <input id="inputPostalCode" class="form-control" type="text" placeholder="6000" list="datalist-postal-code" autocomplete="off">
                                <div class="invalid-feedback">Please provide a valid postal code.</div>
                                <datalist id="datalist-postal-code"></datalist>
                            </div>
                            <div class="col-12">
                                <label for="inputStreetName" class="col-sm-2 col-form-label form-label">Street</label>
                                <input id="inputStreetName" class="form-control" type="text" placeholder="Square des Martyrs" list="datalist-street-names" autocomplete="off" disabled>
                                <div class="invalid-feedback">Please provide a valid street name.</div>
                                <datalist id="datalist-street-names"></datalist>
                            </div>
                            <div class="col-12">
                                <label for="inputHouseNumber" class="col-sm-2 col-form-label form-label">Number</label>
                                <input id="inputHouseNumber" class="form-control" type="text" placeholder="1" list="datalist-house-numbers" autocomplete="off" disabled>
                                <div class="invalid-feedback">Please provide a valid house number.</div>
                                <datalist id="datalist-house-numbers"></datalist>
                            </div>
                            <div class="col-12">
                                <button id="button-submit" class="btn btn-primary btn-block button-submit" disabled>
                                    <span class="spinner-border spinner-border-sm hidden" id='button-load-spinner' role="status" aria-hidden="true"></span>
                                    Search address
                                </button>
                            </div>

                        </li>
                      </ul>
                </div>

            </div>
        </nav>

        <main class="col-md-8 ml-sm-auto col-lg-9">
            <canvas id="render" width="100%" height="100%"></canvas>
        </main>

        <footer>
            Â© Joffrey Bienvenu, <a href="https://github.com/joffreybvn/">get in touch</a> - Data source: <a href="http://geoportail.wallonie.be/">Service public de Wallonie</a>
        </footer>
    </div>
</div>

<script type="text/javascript" src="./assets/js/libs/jszip.min.js"></script>
<script type="text/javascript" src="./assets/js/libs/jszip-utils.min.js"></script>

<script type="x-shader/x-vertex" id="vertexShader">
    varying vec3 vWorldPosition;

    void main() {

        vec4 worldPosition = modelMatrix * vec4( position, 1.0 );
        vWorldPosition = worldPosition.xyz;

        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );

    }
</script>

<script type="x-shader/x-fragment" id="fragmentShader">
    uniform vec3 topColor;
    uniform vec3 bottomColor;
    uniform float offset;
    uniform float exponent;

    varying vec3 vWorldPosition;

    void main() {

        float h = normalize( vWorldPosition + offset ).y;
        gl_FragColor = vec4( mix( bottomColor, topColor, max( pow( max( h, 0.0 ), exponent ), 0.0 ) ), 1.0 );

    }
</script>

<script type="module">
    import * as app from './assets/js/app.module.js';
    app.init()
</script>

<script type="text/javascript" src="./assets/js/libs/bootstrap.min.js"></script>
</body>
</html>
